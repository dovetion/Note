##网关压力测试（1）

葛鑫，林俊俊

2019-3-28



### 测试方法

在上行线程，屏蔽掉原先收包函数，写了构造包的函数。

使用了之前一个真实包的数据，避免MIC校验失败。

将服务器下行发送时间窗口改到第二个，避免产生TOO LATE错误。



终端数为n，周期为t，计算每个时刻的收包数，然后封装并发到服务器，统计下行发送情况。



### 测试结果

* 终端数量 100， 周期 2h，时长10min：收包8个，碰撞0个**（0.00%）**，beacon碰撞0个**（0.00%）**

* 终端数量 1000， 周期 2h，时长10min：收包79个，碰撞2个**（2.67%）**，beacon碰撞1个**（1.33%）**

* 终端数量 5000， 周期 2h，时长10min：收包406个，碰撞153个**（37.68%）**，beacon碰撞1个**（0.24%）**

* 终端数量10000，周期2h，时长10min：收包853个，碰撞514个**（60.26%）**，beacon碰撞8个**（0.93%）**

* 终端数量20000，周期2h，时长10min：收包1681个，碰撞1306个**（77.69%）**，beacon碰撞11个**（0.65%）**

* 终端数量65535，周期2h，时长10min：收包5558个，碰撞5349个**（96.24%）**，beacon碰撞2个**（0.04%）**

  

- 终端数量 100， 周期 12h，时长10min：收包1个，碰撞0个**（0.00%）**，beacon碰撞1个**（100.00%）**

- 终端数量 1000， 周期 12h，时长10min：收包18个，碰撞0个**（0%）**，beacon碰撞0个**（0%）**
- 终端数量 5000， 周期 12h，时长10min：收包65个，碰撞7个**（10.94%）**，beacon碰撞1个**（1.54%）**
- 终端数量10000，周期12h，时长10min：收包68个，碰撞13个**（19.11%）**，beacon碰撞0个**（0.00%）**
- 终端数量20000，周期12h，时长10min：收包274个，碰撞87个**（31.75%）**，beacon碰撞3个**（1.09%）**
- 终端数量65535，周期12h，时长10min：收包910个，碰撞588个**（64.62%）**，beacon碰撞9个**（0.10%）**